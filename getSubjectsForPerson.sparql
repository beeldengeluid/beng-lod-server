#+ summary: Query to get all subjects associated with a person
#+ endpoint: http://zorin.beeldengeluid.nl:3020/sparql/
PREFIX nisv: <http://data.rdlabs.beeldengeluid.nl/schema/>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?keyword ?role
WHERE {
?s ?personProperty ?personInRoleId . ?personInRoleId nisv:hasPerson ?personId .
  ?personId skos:prefLabel ?_personName_nl . ?s nisv:hasSubject ?subjectIri . 
  ?subjectIri skos:prefLabel ?keyword . ?personProperty rdfs:subPropertyOf nisv:hasEntityInRole . ?personProperty rdfs:label ?role
}

